{"is_source_file": true, "format": "Python", "description": "This file defines REST API routes for a FastAPI application managing Robot Framework runs, including starting/stopping tests, retrieving statistics, logs, configuration, and UI state management. It primarily contains route definitions, request handling, and interactions with other modules/services.", "external_files": ["src.api.schemas", "src.api.robot_runner", "src.api.config_service", "src.api.state_service", "src.api.log_stream", "src.db.database", "src.db.repositories", "src.core.settings", "src.db.models"], "external_methods": ["controller.run", "controller.stop", "controller.get_expected_total", "controller.set_expected_total", "controller.get_current_case_info", "controller.get_log_file", "read_config", "write_config", "list_config_folders", "set_ui_lock", "sync_state", "get_state", "get_db", "get_run_stats", "count_case_status"], "published": ["start_run", "stop_run", "stats", "case_status", "progress", "current_case_info", "logs", "batch_log", "fail_log", "get_config", "put_config", "list_configs", "ui_lock", "sync_state_route", "get_state_route", "get_expected_total", "set_expected_total"], "classes": [], "methods": [{"name": "batch_log()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CaseStatusResponse case_status(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CurrentCaseInfo current_case_info(run_id: int = Query(..., description=\"Run id\"))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "fail_log(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ConfigPayload get_config(path: str = Query(..., description=\"Relative config path from CONFIG_DIR\"))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ExpectedTotalResponse get_expected_total(run_id: int = Query(..., description=\"Run id\"))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GetStateResponse get_state_route()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ConfigListResponse list_configs()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logs()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ProgressResponse progress(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ConfigPayload put_config(payload: ConfigPayload)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ExpectedTotalResponse set_expected_total(run_id: int = Query(..., description=\"Run id\"), total: int = Query(..., description=\"Expected total\"))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RunResponse start_run(payload: RunRequest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "StatsResponse stats(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "StopResponse stop_run()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GetStateResponse sync_state_route(payload: SyncStateRequest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ui_lock(payload: UILockRequest)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["controller.run", "controller.stop", "get_run_stats", "count_case_status", "controller.get_expected_total", "controller.set_expected_total", "controller.get_current_case_info", "get_log_sse", "open log file and read", "select models.FailLog", "read_config", "write_config", "list_config_folders", "set_ui_lock", "sync_state", "get_state"], "search-terms": ["RobotFramework", "API routes", "progress endpoint", "log streaming", "config management", "UI lock", "state synchronization", "test run statistics", "current case info", "expected total"], "state": 2, "file_id": 16, "knowledge_revision": 79, "git_revision": "f91a2f16174db279cfe11a45e458ef03029f81d6", "revision_history": [{"40": ""}, {"44": "68f97cc4cc0da114d8a101e32b413fc1281600e0"}, {"73": "bc891e0b1be923598ab01c57566e316a7deeb9d9"}, {"79": "f91a2f16174db279cfe11a45e458ef03029f81d6"}], "ctags": [{"_type": "tag", "name": "batch_log", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^def batch_log():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "case_status", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^def case_status(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db)) -/", "language": "Python", "typeref": "typename:CaseStatusResponse", "kind": "function", "signature": "(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "current_case_info", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^def current_case_info(run_id: int = Query(..., description=\"Run id\")) -> CurrentCaseInfo:$/", "language": "Python", "typeref": "typename:CurrentCaseInfo", "kind": "function", "signature": "(run_id: int = Query(..., description=\"Run id\"))"}, {"_type": "tag", "name": "fail_log", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^def fail_log(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_config", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^def get_config(path: str = Query(..., description=\"Relative config path from CONFIG_DIR\")) -> Co/", "language": "Python", "typeref": "typename:ConfigPayload", "kind": "function", "signature": "(path: str = Query(..., description=\"Relative config path from CONFIG_DIR\"))"}, {"_type": "tag", "name": "get_expected_total", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^async def get_expected_total(run_id: int = Query(..., description=\"Run id\")) -> ExpectedTotalRes/", "language": "Python", "typeref": "typename:ExpectedTotalResponse", "kind": "function", "signature": "(run_id: int = Query(..., description=\"Run id\"))"}, {"_type": "tag", "name": "get_state_route", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^async def get_state_route() -> GetStateResponse:$/", "language": "Python", "typeref": "typename:GetStateResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "list_configs", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^def list_configs() -> ConfigListResponse:$/", "language": "Python", "typeref": "typename:ConfigListResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "logs", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^async def logs():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "progress", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^def progress(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db)) -> P/", "language": "Python", "typeref": "typename:ProgressResponse", "kind": "function", "signature": "(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "put_config", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^def put_config(payload: ConfigPayload) -> ConfigPayload:$/", "language": "Python", "typeref": "typename:ConfigPayload", "kind": "function", "signature": "(payload: ConfigPayload)"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^router = APIRouter(tags=[\"robot\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "set_expected_total", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^async def set_expected_total(run_id: int = Query(..., description=\"Run id\"), total: int = Query(/", "language": "Python", "typeref": "typename:ExpectedTotalResponse", "kind": "function", "signature": "(run_id: int = Query(..., description=\"Run id\"), total: int = Query(..., description=\"Expected total\"))"}, {"_type": "tag", "name": "start_run", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^async def start_run(payload: RunRequest) -> RunResponse:$/", "language": "Python", "typeref": "typename:RunResponse", "kind": "function", "signature": "(payload: RunRequest)"}, {"_type": "tag", "name": "stats", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^def stats(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db)) -> Stat/", "language": "Python", "typeref": "typename:StatsResponse", "kind": "function", "signature": "(run_id: int = Query(..., description=\"Run id\"), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "stop_run", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^async def stop_run() -> StopResponse:$/", "language": "Python", "typeref": "typename:StopResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "sync_state_route", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^async def sync_state_route(payload: SyncStateRequest) -> GetStateResponse:$/", "language": "Python", "typeref": "typename:GetStateResponse", "kind": "function", "signature": "(payload: SyncStateRequest)"}, {"_type": "tag", "name": "ui_lock", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/src/api/routes.py", "pattern": "/^async def ui_lock(payload: UILockRequest):$/", "language": "Python", "kind": "function", "signature": "(payload: UILockRequest)"}], "hash": "345782a5097703085cdda85288482313", "format-version": 4, "code-base-name": "robotframework_backend", "filename": "robotframework_backend/src/api/routes.py", "fields": [{"name": "router = APIRouter(tags=[\"robot\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}