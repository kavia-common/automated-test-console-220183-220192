{"is_source_file": true, "format": "Python", "description": "This is a test configuration file for a FastAPI application, setting up fixtures for testing, managing environment variables, temporary directories, database setup, and test client overrides.", "external_files": ["src.db.database", "src.core.settings", "src.api.main"], "external_methods": ["pytest fixture decorator", "shutil.rmtree", "tempfile.mkdtemp", "os.environ.setdefault", "os.makedirs", "create_engine", "Base.metadata.create_all", "sessionmaker"], "published": [], "classes": [], "methods": [{"name": "tmp_workdir()", "description": "Creates and cleans up a temporary directory for tests.", "scope": "", "scopeKind": ""}, {"name": "test_paths(tmp_workdir)", "description": "Defines paths for logs, configs, and robot root within the temporary directory.", "scope": "", "scopeKind": ""}, {"name": "test_db_engine(tmp_workdir)", "description": "Sets up a temporary SQLite database for testing.", "scope": "", "scopeKind": ""}, {"name": "TestSessionLocal(test_db_engine)", "description": "Returns a sessionmaker bound to the test database engine.", "scope": "", "scopeKind": ""}, {"name": "_test_db_session_factory(SessionLocal)", "description": "Context manager yielding a database session for testing.", "scope": "", "scopeKind": ""}, {"name": "override_settings_and_env(test_paths, test_db_engine)", "description": "Overrides environment variables and settings paths for testing environment.", "scope": "", "scopeKind": ""}, {"name": "app_client(TestSessionLocal, monkeypatch)", "description": "Provides a FastAPI test client with dependencies overridden for testing.", "scope": "", "scopeKind": ""}, {"name": "db_session(TestSessionLocal)", "description": "Provides a direct database session for tests.", "scope": "", "scopeKind": ""}, {"name": "str fake_get_engine_url()", "scope": "app_client", "scopeKind": "function", "description": "unavailable"}, {"name": "get_db_override()", "scope": "app_client", "scopeKind": "function", "description": "unavailable"}], "calls": ["os.environ.setdefault", "shutil.rmtree", "tempfile.mkdtemp", "os.makedirs", "create_engine", "Base.metadata.create_all", "sessionmaker", "app.dependency_overrides", "app.dependency_overrides.clear"], "search-terms": ["conftest.py", "pytest fixtures", "test database setup", "FastAPI test client override", "environment variable isolation", "temporary directories for tests"], "state": 2, "file_id": 19, "knowledge_revision": 98, "git_revision": "902d1a8c446ed4e0108b2ce9e1c9b95329664a52", "revision_history": [{"55": ""}, {"80": "0fbc1abf78aec09dee7f4ab6c10f2d1167b39b5a"}, {"81": "0fbc1abf78aec09dee7f4ab6c10f2d1167b39b5a"}, {"88": "0fbc1abf78aec09dee7f4ab6c10f2d1167b39b5a"}, {"93": "0fbc1abf78aec09dee7f4ab6c10f2d1167b39b5a"}, {"95": "902d1a8c446ed4e0108b2ce9e1c9b95329664a52"}, {"96": "902d1a8c446ed4e0108b2ce9e1c9b95329664a52"}, {"98": "902d1a8c446ed4e0108b2ce9e1c9b95329664a52"}], "ctags": [{"_type": "tag", "name": "TestSessionLocal", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def TestSessionLocal(test_db_engine):$/", "language": "Python", "kind": "function", "signature": "(test_db_engine)"}, {"_type": "tag", "name": "_test_db_session_factory", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def _test_db_session_factory(SessionLocal):$/", "language": "Python", "kind": "function", "signature": "(SessionLocal)"}, {"_type": "tag", "name": "_tmp_root", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^_tmp_root = tempfile.mkdtemp(prefix=\"rf_backend_tests_\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "app_client", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def app_client(TestSessionLocal, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(TestSessionLocal, monkeypatch)"}, {"_type": "tag", "name": "db_module", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^    from src.db import database as db_module$/", "file": true, "language": "Python", "kind": "unknown", "scope": "app_client", "scopeKind": "function", "nameref": "unknown:database"}, {"_type": "tag", "name": "db_session", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def db_session(TestSessionLocal):$/", "language": "Python", "kind": "function", "signature": "(TestSessionLocal)"}, {"_type": "tag", "name": "fake_get_engine_url", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^    def fake_get_engine_url() -> str:$/", "file": true, "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()", "scope": "app_client", "scopeKind": "function"}, {"_type": "tag", "name": "get_db_override", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^    def get_db_override():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "app_client", "scopeKind": "function"}, {"_type": "tag", "name": "original_get_db", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^    from src.db.database import get_db as original_get_db$/", "file": true, "language": "Python", "kind": "unknown", "scope": "app_client", "scopeKind": "function", "nameref": "unknown:get_db"}, {"_type": "tag", "name": "override_settings_and_env", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def override_settings_and_env(test_paths, test_db_engine):$/", "language": "Python", "kind": "function", "signature": "(test_paths, test_db_engine)"}, {"_type": "tag", "name": "test_db_engine", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def test_db_engine(tmp_workdir):$/", "language": "Python", "kind": "function", "signature": "(tmp_workdir)"}, {"_type": "tag", "name": "test_paths", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def test_paths(tmp_workdir):$/", "language": "Python", "kind": "function", "signature": "(tmp_workdir)"}, {"_type": "tag", "name": "tmp_workdir", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def tmp_workdir():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "3f5d96ca884b22604a5c345729edbbb2", "format-version": 4, "code-base-name": "robotframework_backend", "filename": "robotframework_backend/tests/conftest.py", "fields": [{"name": "_tmp_root = tempfile.mkdtemp(prefix=\"rf_backend_tests_\")", "scope": "", "scopeKind": "", "description": "unavailable"}]}