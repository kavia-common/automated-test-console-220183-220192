{"is_source_file": true, "format": "Python", "description": "Test configuration and fixtures for pytest testing a FastAPI application with SQLAlchemy database integration in a project related to robot framework backend tests.", "external_files": ["src/db/database.py", "src/core/settings.py", "src/api/main.py"], "external_methods": ["Base.metadata.create_all", "create_engine", "sessionmaker", "app.dependency_overrides", "pytest.fixture"], "published": [], "classes": [], "methods": [{"name": "tmp_workdir()", "description": "Creates and cleans up a temporary working directory for tests.", "scope": "", "scopeKind": ""}, {"name": "test_paths(tmp_workdir)", "description": "Sets up test directory paths within the temporary directory.", "scope": "", "scopeKind": ""}, {"name": "test_db_engine(tmp_workdir)", "description": "Creates an isolated SQLite database engine for testing, initializes schema.", "scope": "", "scopeKind": ""}, {"name": "TestSessionLocal(test_db_engine)", "description": "Creates a sessionmaker bound to the test database engine.", "scope": "", "scopeKind": ""}, {"name": "_test_db_session_factory(SessionLocal)", "description": "Provides a context manager for database sessions using the sessionmaker.", "scope": "", "scopeKind": ""}, {"name": "override_settings_and_env(test_paths, test_db_engine)", "description": "Overrides environment variables and application settings for testing environment.", "scope": "", "scopeKind": ""}, {"name": "app_client(TestSessionLocal, monkeypatch)", "description": "Provides a FastAPI TestClient with dependencies overridden for testing the API endpoints.", "scope": "", "scopeKind": ""}, {"name": "db_session(TestSessionLocal)", "description": "Provides a direct database session for repository testing.", "scope": "", "scopeKind": ""}, {"name": "str fake_get_engine_url()", "scope": "app_client", "scopeKind": "function", "description": "unavailable"}, {"name": "get_db_override()", "scope": "app_client", "scopeKind": "function", "description": "unavailable"}], "calls": ["Base.metadata.create_all", "create_engine", "sessionmaker", "app.dependency_overrides", "shutil.rmtree", "os.makedirs", "os.path.join", "os.environ", "shutil.rmtree", "settings.LOG_DIR", "settings.CONFIG_DIR", "settings.ROBOT_PROJECT_ROOT"], "search-terms": ["pytest fixtures", "FastAPI test setup", "SQLite test database", "dependency override", "test client", "environment override", "test directory setup", "SQLAlchemy session"], "state": 2, "file_id": 19, "knowledge_revision": 93, "git_revision": "0fbc1abf78aec09dee7f4ab6c10f2d1167b39b5a", "revision_history": [{"55": ""}, {"80": "0fbc1abf78aec09dee7f4ab6c10f2d1167b39b5a"}, {"81": "0fbc1abf78aec09dee7f4ab6c10f2d1167b39b5a"}, {"88": "0fbc1abf78aec09dee7f4ab6c10f2d1167b39b5a"}, {"93": "0fbc1abf78aec09dee7f4ab6c10f2d1167b39b5a"}], "ctags": [{"_type": "tag", "name": "TestSessionLocal", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def TestSessionLocal(test_db_engine):$/", "language": "Python", "kind": "function", "signature": "(test_db_engine)"}, {"_type": "tag", "name": "_test_db_session_factory", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def _test_db_session_factory(SessionLocal):$/", "language": "Python", "kind": "function", "signature": "(SessionLocal)"}, {"_type": "tag", "name": "app_client", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def app_client(TestSessionLocal, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(TestSessionLocal, monkeypatch)"}, {"_type": "tag", "name": "db_module", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^    from src.db import database as db_module$/", "file": true, "language": "Python", "kind": "unknown", "scope": "app_client", "scopeKind": "function", "nameref": "unknown:database"}, {"_type": "tag", "name": "db_session", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def db_session(TestSessionLocal):$/", "language": "Python", "kind": "function", "signature": "(TestSessionLocal)"}, {"_type": "tag", "name": "fake_get_engine_url", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^    def fake_get_engine_url() -> str:$/", "file": true, "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()", "scope": "app_client", "scopeKind": "function"}, {"_type": "tag", "name": "get_db_override", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^    def get_db_override():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "app_client", "scopeKind": "function"}, {"_type": "tag", "name": "original_get_db", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^    from src.db.database import get_db as original_get_db$/", "file": true, "language": "Python", "kind": "unknown", "scope": "app_client", "scopeKind": "function", "nameref": "unknown:get_db"}, {"_type": "tag", "name": "override_settings_and_env", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def override_settings_and_env(test_paths, test_db_engine):$/", "language": "Python", "kind": "function", "signature": "(test_paths, test_db_engine)"}, {"_type": "tag", "name": "test_db_engine", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def test_db_engine(tmp_workdir):$/", "language": "Python", "kind": "function", "signature": "(tmp_workdir)"}, {"_type": "tag", "name": "test_paths", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def test_paths(tmp_workdir):$/", "language": "Python", "kind": "function", "signature": "(tmp_workdir)"}, {"_type": "tag", "name": "tmp_workdir", "path": "/home/kavia/workspace/code-generation/automated-test-console-220183-220192/robotframework_backend/tests/conftest.py", "pattern": "/^def tmp_workdir():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "7590ea2338af4769bac2f0f0636aeb52", "format-version": 4, "code-base-name": "robotframework_backend", "filename": "robotframework_backend/tests/conftest.py"}